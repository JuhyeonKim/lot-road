(function(a){a.fn.inputLength=function(d){var b=a.extend({isTrim:true},d);var e=(b.isTrim)?a.trim(this.val()):this.val();var c=0;c=(encodeURI(e)+"%u").match(/%u/g).length-1;return e.length+c};a.fn.popupLayer=function(c){var b=a.extend({backgroundColor:"#000",opacity:0.2},c);var f;if(a(document).find("#__popupWrapper").length==0){a("body").append('<div id="__popupWrapper"><div id="__popupBG"></div></div>');f=a("#__popupWrapper")}else{f=a("#__popupWrapper");f.empty().append('<div id="__popupBG"></div>')}var e=(b.isClone)?this.clone(true):this;a(f).append(e);var d=a("#__popupBG");a(f).css("position","fixed").css("_position","absolute").css("top","0").css("left","0");a(f).css("width","100%").css("height","100%").css("z-index","300");a(d).css("width","100%").css("height","100%").css("background-color",b.backgroundColor).css("position","absolute");a(d).css("top","0").css("left","0").css("opacity",b.opacity).css("z-index","100");a(e).css("position","absolute").css("top","50%").css("left","50%").css("z-index","101");a(e).css("background-color","#fff");if(this.outerHeight()<a(document).height()){a(e).css("margin-top","-"+this.outerHeight()/2+"px")}else{a(e).css("top","0")}if(this.outerWidth()<a(document).width()){a(e).css("margin-left","-"+this.outerWidth()/2+"px")}else{a(e).css("left","0")}a(e).show();a(f).show();a(e).find(".btnClose").bind("click",function(g){a(f).hide();g.preventDefault()})};a.fn.getLastDateWithObject=function(b){if(b==null||typeof b=="undefined"){return null}return new Date(new Date(b.getFullYear(),b.getMonth()+1,1)-1)};a.fn.getLastDate=function(b){return a.getLastDateWithObject(b).getDate()};a.fn.getLastDay=function(b){return a.getLastDateWithObject(b).getDay()};a.fn.getDateString=function(b){return b.getFullYear+a.zeroFill(b.getMonth()+1,2)+a.zeroFill(b.getDate(),2)};a.fn.center=function(){this.css("position","absolute");this.css("top",Math.max(0,((a(window).height()-a(this).outerHeight())/2)+a(window).scrollTop())+"px");this.css("left",Math.max(0,((a(window).width()-a(this).outerWidth())/2)+a(window).scrollLeft())+"px");return this};a.fn.centerWithResize=function(){var b=this;this.center();a(window).on("resize",function(){b.center()})};a.fn.shareTwitter=function(d){var c="https://twitter.com/intent/tweet?url="+encodeURIComponent(d);var b=window.open(c,"ShareTwitter","width=400,innerWidth=350,resizable=no,scrollbars=no,status=no");if(b){b.focus()}};a.fn.shareFacebook=function(d){var c="http://www.facebook.com/sharer/sharer.php?s=100";c+=encodeURI("&p[url]")+"="+encodeURIComponent(d);var b=window.open(c,"ShareFacebook","width=400,innerWidth=350,resizable=no,scrollbars=no,status=no");if(b){b.focus()}}})($);$.extend({zeroFill:function(d,e){if(d==null||typeof d=="undefined"||e<0){return""}var c=e-d.toString().length;var a="";for(var b=0;b<c;b++){a+="0"}return a+d.toString()}});